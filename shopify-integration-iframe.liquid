<!-- Intégration de votre boutique personnalisée dans Shopify via iframe -->
<!-- Ajoutez ce code dans votre fichier index.liquid ou page.liquid -->

{% comment %}
  Intégration de la boutique personnalisée BestF.kersInTown
  Remplacez l'URL par votre domaine de production quand vous déployez
{% endcomment %}

<style>
  .custom-shop-container {
    width: 100%;
    height: 100vh;
    border: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }
  
  .custom-shop-iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
  }
  
  /* Masquer le header Shopify si nécessaire */
  .site-header {
    display: none;
  }
  
  /* Masquer le footer Shopify si nécessaire */
  .site-footer {
    display: none;
  }
</style>

<div class="custom-shop-container">
  <iframe 
    src="http://localhost:3000" 
    class="custom-shop-iframe"
    title="BestF.kersInTown - Boutique Personnalisée"
    allow="payment; camera; microphone; geolocation"
    sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox">
  </iframe>
</div>

<script>
  // Communication entre Shopify et votre application
  window.addEventListener('message', function(event) {
    // Vérifier l'origine pour la sécurité
    if (event.origin !== 'http://localhost:3000') return;
    
    // Gérer les messages de votre application
    if (event.data.type === 'addToCart') {
      // Ajouter au panier Shopify
      console.log('Produit ajouté:', event.data.product);
    }
    
    if (event.data.type === 'checkout') {
      // Rediriger vers le checkout Shopify
      window.location.href = '/cart';
    }
  });
</script>

